
import cv2
import numpy as np

from constants import *


if __name__ == '__main__':
    frame_folder_name = "frame0000"
    image_file_name = "cam00.JPG"
    gaze_point_screen = np.array([919.0, 454.0])
    gaze_point_camera = np.array([-414.59763984512955, 173.36357226226664, 248.72919105514546])
    head_pose_R_camera = np.array([-0.11430184008546364, 0.12075266374356701, -0.0047178433752198485])
    head_pose_T_camera = np.array([0.3448510774373287, 1.3406390304503488, 912.7615727689634])
    face_landmarks = np.array([2120.0,1720.0,2120.0,2028.0,2188.0,2300.0,2224.0,2508.0,2292.0,2780.0,2396.0,2952.0,2532.0,3056.0,2736.0,3124.0,3044.0,3192.0,3356.0,3124.0,3628.0,3056.0,3800.0,2952.0,3972.0,2780.0,4072.0,2508.0,4140.0,2268.0,4176.0,2028.0,4212.0,1720.0,2224.0,1412.0,2328.0,1276.0,2500.0,1240.0,2636.0,1240.0,2772.0,1276.0,3320.0,1276.0,3456.0,1240.0,3592.0,1208.0,3764.0,1240.0,3936.0,1376.0,3044.0,1616.0,3012.0,1788.0,2976.0,1924.0,2976.0,2064.0,2876.0,2200.0,2944.0,2200.0,3044.0,2232.0,3116.0,2200.0,3216.0,2200.0,2428.0,1652.0,2532.0,1616.0,2636.0,1616.0,2772.0,1652.0,2668.0,1684.0,2532.0,1684.0,3356.0,1652.0,3456.0,1616.0,3592.0,1616.0,3696.0,1652.0,3592.0,1684.0,3456.0,1684.0,2704.0,2576.0,2808.0,2472.0,2944.0,2404.0,3044.0,2404.0,3116.0,2404.0,3284.0,2472.0,3424.0,2540.0,3284.0,2612.0,3148.0,2644.0,3044.0,2644.0,2908.0,2644.0,2808.0,2612.0,2704.0,2540.0,2944.0,2508.0,3044.0,2508.0,3148.0,2508.0,3424.0,2540.0,3148.0,2508.0,3044.0,2508.0,2944.0,2508.0])
    face_landmarks = face_landmarks.reshape(-1, 2)

    frame = cv2.imread(XGAZE_PATH + "data/train/subject0000/" + frame_folder_name + "/" + image_file_name)

    for i in face_landmarks:
        cv2.drawMarker(frame, (int(i[0]), int(i[1])), (0, 255, 0),
                       markerSize=20, markerType=cv2.MARKER_TILTED_CROSS, thickness=4)

    cv2.line(frame, (int(gaze_point_screen[0]), 4000 - int(gaze_point_screen[1])), (0, 0, 255),
                   markerSize=20, markerType=cv2.MARKER_STAR, thickness=4)

    frame = cv2.resize(frame, (1200, 800))
    cv2.imshow("", frame)
    cv2.waitKey()
